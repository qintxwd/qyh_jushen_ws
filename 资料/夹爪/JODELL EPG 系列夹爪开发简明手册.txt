JODELL EPG 系列夹爪开发简明手册 (Modbus RTU)
1. 硬件与通信参数
供电电压: DC 24V

通信接口: RS-485 (A+, B-)

默认参数:

波特率: 115200

数据位: 8

停止位: 1

校验位: None (无)

从站ID: 1 (默认)

2. 核心寄存器速查表 (16进制)
写入 (控制) - 功能码 0x06(写单个) 或 0x10(写多个) | 地址 (Hex) | 名称 | 说明 | | :--- | :--- | :--- | | 0x03E8 | 控制寄存器 (Control) | 低字节: 控制位 (Bit0=使能, Bit3=运动)


高字节: 预设动作指令 (通常不用) | | 0x03E9 | 目标位置 (Position) | 高字节: 0x00(全开) ~ 0xFF(全闭)


低字节: 保留 | | 0x03EA | 速度与力 (Speed/Force) | 低字节: 速度 (0x00~0xFF)


高字节: 力矩 (0x00~0xFF) |

读取 (状态) - 功能码 0x03 或 0x04 | 地址 (Hex) | 名称 | 说明 | | :--- | :--- | :--- | | 0x07D0 | 状态寄存器 (Status) | 低字节: 包含使能状态、运动状态、物体检测状态 | | 0x07D1 | 故障与位置 | 低字节: 故障码


高字节: 当前实际位置 (0x00~0xFF) | | 0x07D2 | 速度与电流 | 低字节: 当前速度


高字节: 当前电流 |

3. 控制逻辑流程
第一步：初始化 (上电后必须执行一次)

向寄存器 0x03E8 写入 0x01 (使能位置1)。

等待夹爪完成自检动作（夹爪会开合一次）。

读取 0x07D0，确认状态位反馈激活完成。

第二步：发送运动指令 通常使用功能码 0x10 连续写入 3 个寄存器 (0x03E8 ~ 0x03EA)，以确保动作同步。 写入数据结构 (共6字节数据):

0x03E8: 写入 0x09 (二进制 0000 1001: Bit0=使能, Bit3=执行动作)

0x03E9: 写入 [保留 00] [目标位置 00-FF]

0x03EA: 写入 [目标力 00-FF] [目标速度 00-FF]

第三步：获取状态 (物体检测) 周期性读取寄存器 0x07D0 (状态寄存器)。 重点检查 Bit 6 和 Bit 7 (gOBJ):

0 (二进制 00): 正在运动中

1 (二进制 01): 停止 - 内撑模式检测到物体

2 (二进制 10): 停止 - 外夹模式检测到物体 (抓住了)

3 (二进制 11): 停止 - 到达目标位置 (没抓到/已到位)

4. 常用指令示例 (Hex String)
假设从站ID为 01

(1) 激活夹爪 (Activation)

发送: 01 10 03 E8 00 01 02 00 01 24 78

含义: 向 03E8 写 0001 (使能)

回复: 01 10 03 E8 00 01 80 F1

(2) 全速全力闭合 (Close - Grip)

发送: 01 10 03 E8 00 03 06 09 00 00 FF FF FF 42 29

09: 使能+运动 (Control)

00: 保留

FF: 目标位置 (255=全闭)

FF: 目标力 (255=最大)

FF: 目标速度 (255=最快)

回复: 01 10 03 E8 00 03 01 30

(3) 全速全力张开 (Open - Release)

发送: 01 10 03 E8 00 03 06 09 00 00 00 FF FF 72 A1

00: 目标位置 (0=全开)

回复: 01 10 03 E8 00 03 01 30

(4) 50% 力度与速度闭合 (Soft Grip)

发送: 01 10 03 E8 00 03 06 09 00 00 FF 80 80 6A 02

80: 128 (约50% 力与速度)

回复: 01 10 03 E8 00 03 01 30

(5) 读取状态 (查询位置与是否抓取) 建议读取从 07D0 开始的 3 个寄存器。

发送: 01 04 07 D0 00 03 B1 CE

回复示例: 01 04 06 B9 00 FF 00 00 00 [CRC]

解析 B9 (0x07D0内容):

B9 = 二进制 1011 1001

高2位 10 (Bit 6-7) = 2 (检测到物体/已夹住)

Bit 3 (gGTO) = 1 (前往目标中/保持目标)

Bit 0 (gACT) = 1 (激活状态)

解析 00 FF (0x07D1内容):

00: 无故障

FF: 当前位置在 255 (闭合端)

(6) 故障复位 如果发生红灯闪烁等故障，先写 0 停止，再重新激活。

发送 (Reset): 01 10 03 E8 00 01 02 00 00 E5 B8 (清除使能)

发送 (Re-Activate): 参考指令(1)

5. 故障代码 (读取 0x07D1 低字节)
如果读取 0x07D1 的低字节不为 00，对照下表：

Bit 0: 电机未激活

Bit 3: 过流 (卡死或短路)

Bit 4: 电压异常 (不在 24V 范围)

Bit 6: 过温 (>85℃)